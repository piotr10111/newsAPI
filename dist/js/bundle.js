const tops=document.querySelector(".top"),business=document.querySelector(".business"),sport=document.querySelector(".sport"),tech=document.querySelector(".tech"),entertaitment=document.querySelector(".entertaitment");function category(e){clear(),fetch(e).then(e=>e.json()).then(t=>{t.articles.map(t=>{const c=t.urlToImage;e.substr(4,1e4).concat("https"),document.querySelector(".articles").innerHTML+=`\n               <article class="article animated fadeIn">\n                   <figure class="articles__figure"> \n                       <a href="${t.url}" target="_blank">\n                           <img class="article__image" src="${c}" alt="">\n                       </a>\n                       \n                       <figcaption class="article__figcaption">\n                            <a href="${t.url}" class="article__title" target="_blank" \n                                <h3>${t.title}</h3>\n                            </a>\n                            <a class="article-author" rel="author">${t.source.name}</a>\n                       </figcaption>\n                   </figure>\n                    \x3c!--<p class="article-description">Description: ${t.description}</p>--\x3e\n               </article>`})})}tops.addEventListener("click",()=>{category(apis[0])}),business.addEventListener("click",()=>{category(apis[1])}),sport.addEventListener("click",()=>{category(apis[2])}),tech.addEventListener("click",()=>{category(apis[3])}),entertaitment.addEventListener("click",()=>{category(apis[4])});
function clear(){document.querySelector(".articles").innerHTML=""}const apis=["https://newsapi.org/v2/top-headlines?country=pl&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb","https://newsapi.org/v2/top-headlines?country=pl&category=business&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb","https://newsapi.org/v2/top-headlines?country=pl&category=sport&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb","https://newsapi.org/v2/top-headlines?country=pl&category=technology&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb","https://newsapi.org/v2/top-headlines?country=pl&category=entertainment&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb"];function loadData(a){fetch(a).then(a=>a.json()).then(e=>{e.articles.map(e=>{const t=e.urlToImage;a.substr(4,1e4).concat("https"),document.querySelector(".articles").innerHTML+=`\n               <article class="article animated fadeIn">\n                   <figure class="articles__figure"> \n                       <a href="${e.url}" target="_blank">\n                           <img class="article__image" src="${t}" alt="">\n                       </a>\n                       \n                       <figcaption class="article__figcaption">\n                            <a href="${e.url}" class="article__title" target="_blank" \n                                <h3>${e.title}</h3>\n                            </a>\n                            <a class="article-author" rel="author">${e.source.name}</a>\n                       </figcaption>\n                   </figure>\n                    \x3c!--<p class="article-description">Description: ${e.description}</p>--\x3e\n               </article>`})})}loadData(apis[0]);const reqFirst=()=>{loadData(apis[1])},reqSecond=()=>{loadData(apis[2])},reqThird=()=>{loadData(apis[3])},reqFourth=()=>{loadData(apis[4])},sourceData={reqSecond:{},reqThird:{},reqFourth:{},reqFifth:{}};Promise.all([reqFirst,reqSecond,reqThird,reqFourth]).then(a=>(sourceData.reqSecond=a[0],sourceData.reqThird=a[1],sourceData.reqFourth=a[2],sourceData.reqFifth=a[3],sourceData));
const hamburger=document.querySelector(".menu-icon"),menu=document.querySelector(".menu");function toggleClass(){hamburger.classList.toggle("active"),menu.classList.toggle("active")}hamburger.addEventListener("click",toggleClass),menu.addEventListener("click",toggleClass),window.addEventListener("keyup",function(e){menu.classList.contains("active")&&27===e.keyCode&&toggleClass()});const body=document.querySelector("body"),colors=["#2B2B2B","#e55039","#f6b93b","#2980b9","#27ae60"],changeColor=e=>{const o=document.querySelector(".header"),c=document.querySelector(".footer");document.querySelector("body");o.style.background=e,c.style.background=e};document.querySelector(".grey").addEventListener("click",()=>{changeColor(colors[0]),body.style.background="white"}),document.querySelector(".red").addEventListener("click",()=>{changeColor(colors[1]),body.style.background="#eecec9"}),document.querySelector(".orange").addEventListener("click",()=>{changeColor(colors[2]),body.style.background="rgb(245, 230, 200)"}),document.querySelector(".blue").addEventListener("click",()=>{changeColor(colors[3]),body.style.background="rgb(162, 201, 226)"}),document.querySelector(".green").addEventListener("click",()=>{changeColor(colors[4]),body.style.background="rgb(198, 238, 215)"});
const poland=document.querySelector(".poland"),usa=document.querySelector(".usa"),germany=document.querySelector(".germany"),france=document.querySelector(".france"),england=document.querySelector(".england");function country(e){clear(),fetch(e).then(e=>e.json()).then(a=>{a.articles.map(a=>{const n=a.urlToImage;e.substr(4,1e4).concat("https"),document.querySelector(".articles").innerHTML+=`\n               <article class="article animated fadeIn">\n                   <figure class="articles__figure"> \n                       <a href="${a.url}" target="_blank">\n                           <img class="article__image" src="${n}" alt="">\n                       </a>\n                       \n                       <figcaption class="article__figcaption">\n                            <a href="${a.url}" class="article__title" target="_blank" \n                                <h3>${a.title}</h3>\n                            </a>\n                            <a class="article-author" rel="author">${a.source.name}</a>\n                       </figcaption>\n                   </figure>\n                    \x3c!--<p class="article-description">Description: ${a.description}</p>--\x3e\n               </article>`})})}poland.addEventListener("click",()=>{country("https://newsapi.org/v2/top-headlines?country=pl&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb")}),england.addEventListener("click",()=>{country("https://newsapi.org/v2/top-headlines?country=gb&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb")}),usa.addEventListener("click",()=>{country("https://newsapi.org/v2/top-headlines?country=us&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb")}),germany.addEventListener("click",()=>{country("https://newsapi.org/v2/top-headlines?country=de&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb")}),france.addEventListener("click",()=>{country("https://newsapi.org/v2/top-headlines?country=fr&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb")});