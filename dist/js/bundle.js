const tops=document.querySelector(".top"),business=document.querySelector(".business"),sport=document.querySelector(".sport"),tech=document.querySelector(".tech"),entertaitment=document.querySelector(".entertaitment");function category(e){clear(),fetch(e).then(e=>e.json()).then(e=>{e.articles.map(e=>{document.querySelector(".articles").innerHTML+=`\n               <article class="article animated fadeIn">\n                   <figure class="articles__figure"> \n                       <a href="${e.url}" target="_blank">\n                           <img class="article__image" src="${e.urlToImage}" alt="">\n                       </a>\n                       \n                       <figcaption class="article__figcaption">\n                            <a href="${e.url}" class="article__title" target="_blank" \n                                <h3>${e.title}</h3>\n                            </a>\n                            <a class="article-author" rel="author">${e.source.name}</a>\n                       </figcaption>\n                   </figure>\n                    \x3c!--<p class="article-description">Description: ${e.description}</p>--\x3e\n               </article>`})})}tops.addEventListener("click",function(){category(apis[0])}),business.addEventListener("click",function(){category(apis[1])}),sport.addEventListener("click",function(){category(apis[2])}),tech.addEventListener("click",function(){category(apis[3])}),entertaitment.addEventListener("click",function(){category(apis[4])});
function clear(){document.querySelector(".articles").innerHTML=""}const apis=["https://newsapi.org/v2/top-headlines?country=pl&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb","https://newsapi.org/v2/top-headlines?country=pl&category=business&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb","https://newsapi.org/v2/top-headlines?country=pl&category=sport&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb","https://newsapi.org/v2/top-headlines?country=pl&category=technology&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb","https://newsapi.org/v2/top-headlines?country=pl&category=entertainment&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb"];function loadData(a){fetch(a).then(a=>a.json()).then(a=>{a.articles.map(a=>{document.querySelector(".articles").innerHTML+=`\n               <article class="article animated fadeIn">\n                   <figure class="articles__figure"> \n                       <a href="${a.url}" target="_blank">\n                           <img class="article__image" src="${a.urlToImage}" alt="">\n                       </a>\n                       \n                       <figcaption class="article__figcaption">\n                            <a href="${a.url}" class="article__title" target="_blank" \n                                <h3>${a.title}</h3>\n                            </a>\n                            <a class="article-author" rel="author">${a.source.name}</a>\n                       </figcaption>\n                   </figure>\n                    \x3c!--<p class="article-description">Description: ${a.description}</p>--\x3e\n               </article>`})})}loadData(apis[0]);const reqFirst=function(){loadData(apis[1])},reqSecond=function(){loadData(apis[2])},reqThird=function(){loadData(apis[3])},reqFourth=function(){loadData(apis[4])},sourceData={reqSecond:{},reqThird:{},reqFourth:{},reqFifth:{}};Promise.all([reqFirst,reqSecond,reqThird,reqFourth]).then(a=>(sourceData.reqSecond=a[0],sourceData.reqThird=a[1],sourceData.reqFourth=a[2],sourceData.reqFifth=a[3],sourceData));
const trigger=document.querySelector(".menu-icon"),menu=document.querySelector(".menu");function toggleClass(){trigger.classList.toggle("active"),menu.classList.toggle("active")}trigger.addEventListener("click",toggleClass),menu.addEventListener("click",toggleClass),window.addEventListener("keyup",function(e){menu.classList.contains("active")&&27===e.keyCode&&toggleClass()});
const poland=document.querySelector(".poland"),usa=document.querySelector(".usa"),germany=document.querySelector(".germany"),france=document.querySelector(".france");function country(e){clear(),fetch(e).then(e=>e.json()).then(e=>{e.articles.map(e=>{document.querySelector(".articles").innerHTML+=`\n               <article class="article animated fadeIn">\n                   <figure class="articles__figure"> \n                       <a href="${e.url}" target="_blank">\n                           <img class="article__image" src="${e.urlToImage}" alt="">\n                       </a>\n                       \n                       <figcaption class="article__figcaption">\n                            <a href="${e.url}" class="article__title" target="_blank" \n                                <h3>${e.title}</h3>\n                            </a>\n                            <a class="article-author" rel="author">${e.source.name}</a>\n                       </figcaption>\n                   </figure>\n                    \x3c!--<p class="article-description">Description: ${e.description}</p>--\x3e\n               </article>`})})}poland.addEventListener("click",function(){country("https://newsapi.org/v2/top-headlines?country=pl&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb")}),usa.addEventListener("click",function(){country("https://newsapi.org/v2/top-headlines?country=us&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb")}),germany.addEventListener("click",function(){country("https://newsapi.org/v2/top-headlines?country=de&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb")}),france.addEventListener("click",function(){country("https://newsapi.org/v2/top-headlines?country=fr&apiKey=0f1d6f5ab7564ab09bc63df2a2fc6dcb")});